{"map":{"version":3,"sources":["static/js/main.29e81850.chunk.js"],"names":["this","push","35","module","exports","__webpack_require__","40","42","73","76","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","Boolean","window","location","hostname","match","regenerator","regenerator_default","asyncToGenerator","classCallCheck","createClass","inherits","createSuper","Channel_Channel","_React$Component","Object","Channel","_super","_this","_len","arguments","length","args","Array","_key","call","apply","concat","click","props","onClick","id","key","value","a","createElement","className","name","participants","Component","ChannelList_ChannelList","ChannelList","handleClick","onSelectChannel","_this2","list","channels","map","c","Message_Message","Message","senderName","text","MessagesPanel_MessagesPanel","MessagesPanel","state","input_value","send","onSendMessage","channel","setState","handleInput","e","target","messages","m","type","onChange","lib","lib_default","SERVER","Chat_Chat","Chat","socket","configureSocket","on","handleChannelSelect","forEach","message","channel_id","loadChannels","mark","_callee2","wrap","_context2","prev","next","fetch","then","_ref2","_callee","response","data","_context","json","sent","stop","_x","find","emit","ack","handleSendMessage","Date","now","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console"],"mappings":"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"},"code":"(this[\"webpackJsonpreact-chat\"]=this[\"webpackJsonpreact-chat\"]||[]).push([[0],{35:function(e,n,t){e.exports=t(76)},40:function(e,n,t){},42:function(e,n,t){},73:function(e,n){},76:function(e,n,t){\"use strict\";t.r(n);var a=t(0),c=t.n(a),s=t(33),r=t.n(s);t(40),Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=t(7),l=t.n(i),o=t(16),u=t(1),h=t(2),p=t(4),m=t(3),d=function(e){Object(p.a)(t,e);var n=Object(m.a)(t);function t(){var e;Object(u.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=n.call.apply(n,[this].concat(c))).click=function(){e.props.onClick(e.props.id)},e}return Object(h.a)(t,[{key:\"render\",value:function(){return c.a.createElement(\"div\",{className:\"channel-item\",onClick:this.click},c.a.createElement(\"div\",null,this.props.name),c.a.createElement(\"span\",null,this.props.participants))}}]),t}(c.a.Component),f=function(e){Object(p.a)(t,e);var n=Object(m.a)(t);function t(){var e;Object(u.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=n.call.apply(n,[this].concat(c))).handleClick=function(n){e.props.onSelectChannel(n)},e}return Object(h.a)(t,[{key:\"render\",value:function(){var e=this,n=c.a.createElement(\"div\",{className:\"no-content-message\"},\"There is no channels to show\");return this.props.channels&&this.props.channels.map&&(n=this.props.channels.map((function(n){return c.a.createElement(d,{key:n.id,id:n.id,name:n.name,participants:n.participants,onClick:e.handleClick})}))),c.a.createElement(\"div\",{className:\"channel-list\"},n)}}]),t}(c.a.Component),v=(t(42),function(e){Object(p.a)(t,e);var n=Object(m.a)(t);function t(){return Object(u.a)(this,t),n.apply(this,arguments)}return Object(h.a)(t,[{key:\"render\",value:function(){return c.a.createElement(\"div\",{className:\"message-item\"},c.a.createElement(\"div\",null,c.a.createElement(\"b\",null,this.props.senderName)),c.a.createElement(\"span\",null,this.props.text))}}]),t}(c.a.Component)),g=function(e){Object(p.a)(t,e);var n=Object(m.a)(t);function t(){var e;Object(u.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=n.call.apply(n,[this].concat(c))).state={input_value:\"\"},e.send=function(){e.state.input_value&&\"\"!==e.state.input_value&&(e.props.onSendMessage(e.props.channel.id,e.state.input_value),e.setState({input_value:\"\"}))},e.handleInput=function(n){e.setState({input_value:n.target.value})},e}return Object(h.a)(t,[{key:\"render\",value:function(){var e=c.a.createElement(\"div\",{className:\"no-content-message\"},\"There is no messages to show\");return this.props.channel&&this.props.channel.messages&&(e=this.props.channel.messages.map((function(e){return c.a.createElement(v,{key:e.id,id:e.id,senderName:e.senderName,text:e.text})}))),c.a.createElement(\"div\",{className:\"messages-panel\"},c.a.createElement(\"div\",{className:\"meesages-list\"},e),this.props.channel&&c.a.createElement(\"div\",{className:\"messages-input\"},c.a.createElement(\"input\",{type:\"text\",onChange:this.handleInput,value:this.state.input_value}),c.a.createElement(\"button\",{onClick:this.send},\"Send\")))}}]),t}(c.a.Component),k=t(34),b=t.n(k),E=\"http://127.0.0.1:8080\",j=function(e){Object(p.a)(t,e);var n=Object(m.a)(t);function t(){var e;Object(u.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=n.call.apply(n,[this].concat(c))).state={channels:null,socket:null,channel:null},e.configureSocket=function(){var n=b()(E);n.on(\"connection\",(function(){e.state.channel&&e.handleChannelSelect(e.state.channel.id)})),n.on(\"channel\",(function(n){var t=e.state.channels;t.forEach((function(e){e.id===n.id&&(e.participants=n.participants)})),e.setState({channels:t})})),n.on(\"message\",(function(n){var t=e.state.channels;t.forEach((function(e){e.id===n.channel_id&&(e.messages?e.messages.push(n):e.messages=[n])})),e.setState({channels:t})})),e.socket=n},e.loadChannels=Object(o.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:fetch(\"http://localhost:8080/getChannels\").then(function(){var n=Object(o.a)(l.a.mark((function n(t){var a;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.json();case 2:a=n.sent,e.setState({channels:a.channels});case 4:case\"end\":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 1:case\"end\":return n.stop()}}),n)}))),e.handleChannelSelect=function(n){var t=e.state.channels.find((function(e){return e.id===n}));e.setState({channel:t}),e.socket.emit(\"channel-join\",n,(function(e){}))},e.handleSendMessage=function(n,t){e.socket.emit(\"send-message\",{channel_id:n,text:t,senderName:e.socket.id,id:Date.now()})},e}return Object(h.a)(t,[{key:\"componentDidMount\",value:function(){this.loadChannels(),this.configureSocket()}},{key:\"render\",value:function(){return c.a.createElement(\"div\",{className:\"chat-app\"},c.a.createElement(f,{channels:this.state.channels,onSelectChannel:this.handleChannelSelect}),c.a.createElement(g,{onSendMessage:this.handleSendMessage,channel:this.state.channel}))}}]),t}(c.a.Component);r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(j,null)),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);","extractedComments":[]}